<!doctype html>
<html class="docs-version-current" lang="zh-CN" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Flutter 路由管理 | My resume</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://malaaa.mljlls.tech//zh-CN/docs/Flutter/Route"><meta data-react-helmet="true" name="docusaurus_locale" content="zh-CN"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Flutter 路由管理 | My resume"><meta data-react-helmet="true" name="description" content="路由(Route)在移动开发中通常指页面（Page），这跟web开发中单页应用的Route概念意义是相同的，Route在Android中通常指一个Activity，在iOS中指一个ViewController。所谓路由管理，就是管理页面之间如何跳转，通常也可被称为导航管理。Flutter中的路由管理和原生开发类似，无论是Android还是iOS，导航管理都会维护一个路由栈，路由入栈(push)操作对应打开一个新页面，路由出栈(pop)操作对应页面关闭操作，而路由管理主要是指如何来管理路由栈。"><meta data-react-helmet="true" property="og:description" content="路由(Route)在移动开发中通常指页面（Page），这跟web开发中单页应用的Route概念意义是相同的，Route在Android中通常指一个Activity，在iOS中指一个ViewController。所谓路由管理，就是管理页面之间如何跳转，通常也可被称为导航管理。Flutter中的路由管理和原生开发类似，无论是Android还是iOS，导航管理都会维护一个路由栈，路由入栈(push)操作对应打开一个新页面，路由出栈(pop)操作对应页面关闭操作，而路由管理主要是指如何来管理路由栈。"><link data-react-helmet="true" rel="icon" href="/zh-CN/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://malaaa.mljlls.tech//zh-CN/docs/Flutter/Route"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//docs/Flutter/Route" hreflang="en-GB"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//fr/docs/Flutter/Route" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//zh-CN/docs/Flutter/Route" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//docs/Flutter/Route" hreflang="x-default"><link rel="stylesheet" href="/zh-CN/assets/css/styles.7fa68169.css">
<link rel="preload" href="/zh-CN/assets/js/runtime~main.948c3caf.js" as="script">
<link rel="preload" href="/zh-CN/assets/js/main.015bc471.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">跳转到主要内容</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="/zh-CN/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/zh-CN/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">我的恢复</b></a><a class="navbar__item navbar__link navbar__link--active" href="/zh-CN/docs/intro">我的笔记</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Malaaaa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>中文（中国）</span></span></a><ul class="dropdown__menu"><li><a href="/docs/Flutter/Route" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/fr/docs/Flutter/Route" target="_self" rel="noopener noreferrer" class="dropdown__link">Français</a></li><li><a href="/zh-CN/docs/Flutter/Route" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">中文（中国）</a></li></ul></div><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="回滚到顶部" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/intro">简介</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/ReadingNote">Books</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/HomeChain">HomeChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/LinuxConfigNote">Note</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/NetworkBS">计算机网络基础</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/Web-Note">Web notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/docsify">对齐化</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/zh-CN/docs/CSAPP/CSAPPNOTE">CSAPP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_VCh3" aria-current="page" href="/zh-CN/docs/Flutter/">流体</a><button aria-label="切换可折叠侧边栏类别流体&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/Flutter/Dartanalysis">调试Flutter应用</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/Flutter/Flutterapp">Flutter 代码结构</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/Flutter/Package">包管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/Flutter/ResourceM">资源管理</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-CN/docs/Flutter/Route">Flutter 路由管理</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/zh-CN/docs/React/Reminder">React</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/zh-CN/docs/Skill/IDE">技能</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">在本页</button></div><div class="theme-doc-markdown markdown"><h1>Flutter 路由管理</h1><p>路由(Route)在移动开发中通常指页面（Page），这跟web开发中单页应用的Route概念意义是相同的，Route在Android中通常指一个Activity，在iOS中指一个ViewController。所谓路由管理，就是管理页面之间如何跳转，通常也可被称为导航管理。Flutter中的路由管理和原生开发类似，无论是Android还是iOS，导航管理都会维护一个路由栈，路由入栈(push)操作对应打开一个新页面，路由出栈(pop)操作对应页面关闭操作，而路由管理主要是指如何来管理路由栈。</p><p>新路由 与 homepage 同级 是一个新的无状态组件</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">class NewRoute extends StatelessWidget </span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_wuS7 clean-btn">复制</button></div></div><p>Botton 组件调用</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">         onPressed: () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          //导航到新路由   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          Navigator.push( context,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           MaterialPageRoute(builder: (context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              return NewRoute();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">           }));</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_wuS7 clean-btn">复制</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="materialpageroute">MaterialPageRoute<a class="hash-link" href="#materialpageroute" title="直接链接到标题">​</a></h2><p><code>MaterialPageRoute</code>继承自<code>PageRoute</code>类，<code>PageRoute</code>类是一个抽象类，表示占有整个屏幕空间的一个模态路由页面，它还定义了路由构建及切换时过渡动画的相关接口及属性。<code>MaterialPageRoute</code> 是Material组件库提供的组件，它可以针对不同平台，实现与平台页面切换动画风格一致的路由切换动画：</p><ul><li>对于Android，当打开新页面时，新的页面会从屏幕底部滑动到屏幕顶部；当关闭页面时，当前页面会从屏幕顶部滑动到屏幕底部后消失，同时上一个页面会显示到屏幕上。</li><li>对于iOS，当打开页面时，新的页面会从屏幕右侧边缘一致滑动到屏幕左边，直到新页面全部显示到屏幕上，而上一个页面则会从当前屏幕滑动到屏幕左侧而消失；当关闭页面时，正好相反，当前页面会从屏幕右侧滑出，同时上一个页面会从屏幕左侧滑入。</li></ul><p>下面我们介绍一下<code>MaterialPageRoute</code> 构造函数的各个参数的意义：</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">  MaterialPageRoute({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    WidgetBuilder builder,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    RouteSettings settings,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool maintainState = true,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bool fullscreenDialog = false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_wuS7 clean-btn">复制</button></div></div><ul><li><code>builder</code> 是一个WidgetBuilder类型的回调函数，它的作用是构建路由页面的具体内容，返回值是一个widget。我们通常要实现此回调，返回新路由的实例。</li><li><code>settings</code> 包含路由的配置信息，如路由名称、是否初始路由（首页）。</li><li><code>maintainState</code>：默认情况下，当入栈一个新路由时，原来的路由仍然会被保存在内存中，如果想在路由没用的时候释放其所占用的所有资源，可以设置<code>maintainState</code>为false。</li><li><code>fullscreenDialog</code>表示新的路由页面是否是一个全屏的模态对话框，在iOS中，如果<code>fullscreenDialog</code>为<code>true</code>，新页面将会从屏幕底部滑入（而不是水平方向）。</li></ul><blockquote><p>如果想自定义路由切换动画，可以自己继承PageRoute来实现，我们将在后面介绍动画时，实现一个自定义的路由组件。</p></blockquote><h2 class="anchor anchorWithStickyNavbar_mojV" id="navigator">Navigator<a class="hash-link" href="#navigator" title="直接链接到标题">​</a></h2><p><code>Navigator</code>是一个路由管理的组件，它提供了打开和退出路由页方法。<code>Navigator</code>通过一个栈来管理活动路由集合。通常当前屏幕显示的页面就是栈顶的路由。<code>Navigator</code>提供了一系列方法来管理路由栈，在此我们只介绍其最常用的两个方法：</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="future-pushbuildcontext-context-route-route">Future push(BuildContext context, Route route)<a class="hash-link" href="#future-pushbuildcontext-context-route-route" title="直接链接到标题">​</a></h3><p>将给定的路由入栈（即打开新的页面），返回值是一个<code>Future</code>对象，用以接收新路由出栈（即关闭）时的返回数据。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="bool-popbuildcontext-context--result-">bool pop(BuildContext context, <!-- -->[ result ]<!-- -->)<a class="hash-link" href="#bool-popbuildcontext-context--result-" title="直接链接到标题">​</a></h3><p>将栈顶路由出栈，<code>result</code>为页面关闭时返回给上一个页面的数据。</p><p><code>Navigator</code> 还有很多其它方法，如<code>Navigator.replace</code>、<code>Navigator.popUntil</code>等，详情请参考API文档或SDK源码注释，在此不再赘述。下面我们还需要介绍一下路由相关的另一个概念“命名路由”。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="实例方法">实例方法<a class="hash-link" href="#实例方法" title="直接链接到标题">​</a></h3><p>Navigator类中第一个参数为context的<strong>静态方法</strong>都对应一个Navigator的<strong>实例方法</strong>， 比如<code>Navigator.push(BuildContext context, Route route)</code>等价于<code>Navigator.of(context).push(Route route)</code> ，下面命名路由相关的方法也是一样的。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="路由传值">路由传值<a class="hash-link" href="#路由传值" title="直接链接到标题">​</a></h2><p>很多时候，在路由跳转时我们需要带一些参数，比如打开商品详情页时，我们需要带一个商品id，这样商品详情页才知道展示哪个商品信息；又比如我们在填写订单时需要选择收货地址，打开地址选择页并选择地址后，可以将用户选择的地址返回到订单页等等。下面我们通过一个简单的示例来演示新旧路由如何传参。</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="示例">示例<a class="hash-link" href="#示例" title="直接链接到标题">​</a></h3><p>我们创建一个<code>TipRoute</code>路由，它接受一个提示文本参数，负责将传入它的文本显示在页面上，另外<code>TipRoute</code>中我们添加一个“返回”按钮，点击后在返回上一个路由的同时会带上一个返回参数，下面我们看一下实现代码。</p><p><code>TipRoute</code>实现代码：</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">class TipRoute extends StatelessWidget {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  TipRoute({</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Key key,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @required this.text,  // 接收一个text参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }) : super(key: key);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  final String text;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Widget build(BuildContext context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return Scaffold(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      appBar: AppBar(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        title: Text(&quot;提示&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      body: Padding(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        padding: EdgeInsets.all(18),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        child: Center(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          child: Column(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            children: &lt;Widget&gt;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              Text(text),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              RaisedButton(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                onPressed: () =&gt; Navigator.pop(context, &quot;我是返回值&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                child: Text(&quot;返回&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_wuS7 clean-btn">复制</button></div></div><p>下面是打开新路由<code>TipRoute</code>的代码：</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">class RouterTestRoute extends StatelessWidget {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Widget build(BuildContext context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return Center(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      child: RaisedButton(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        onPressed: () async {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          // 打开`TipRoute`，并等待返回结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          var result = await Navigator.push(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            context,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            MaterialPageRoute(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              builder: (context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                return TipRoute(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  // 路由参数</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  text: &quot;我是提示xxxx&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          //输出`TipRoute`路由返回结果</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          print(&quot;路由返回值: $result&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        child: Text(&quot;打开提示页&quot;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_wuS7 clean-btn">复制</button></div></div><p>运行上面代码，点击<code>RouterTestRoute</code>页的“打开提示页”按钮，会打开<code>TipRoute</code>页，运行效果如图2-4所示下：</p><p><img src="https://pcdn.flutterchina.club/imgs/2-4.png" alt="图2-4"></p><p>需要说明：</p><ol><li><p>提示文案“我是提示xxxx”是通过<code>TipRoute</code>的<code>text</code>参数传递给新路由页的。我们可以通过等待<code>Navigator.push(…)</code>返回的<code>Future</code>来获取新路由的返回数据。</p></li><li><p>在<code>TipRoute</code>页中有两种方式可以返回到上一页；第一种方式时直接点击导航栏返回箭头，第二种方式是点击页面中的“返回”按钮。这两种返回方式的区别是前者不会返回数据给上一个路由，而后者会。下面是分别点击页面中的返回按钮和导航栏返回箭头后，<code>RouterTestRoute</code>页中<code>print</code>方法在控制台输出的内容：</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">I/flutter (27896): 路由返回值: 我是返回值</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I/flutter (27896): 路由返回值: null</span><br></span></code></pre><button type="button" aria-label="复制代码到剪贴板" class="copyButton_wuS7 clean-btn">复制</button></div></div></li></ol><p>上面介绍的是非命名路由的传值方式，命名路由的传值方式会有所不同，我们会在下面介绍命名路由时介绍。</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="命名路由">命名路由<a class="hash-link" href="#命名路由" title="直接链接到标题">​</a></h2></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Malaaaa/blog-sample/tree/main/docs/Flutter/Route.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页面</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文档页面导航"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/zh-CN/docs/Flutter/ResourceM"><div class="pagination-nav__sublabel">前一个</div><div class="pagination-nav__label">资源管理</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/zh-CN/docs/JavaScript/"><div class="pagination-nav__sublabel">下一个</div><div class="pagination-nav__label">有用的 Javascript Exmaple</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#materialpageroute" class="table-of-contents__link toc-highlight">MaterialPageRoute</a></li><li><a href="#navigator" class="table-of-contents__link toc-highlight">Navigator</a><ul><li><a href="#future-pushbuildcontext-context-route-route" class="table-of-contents__link toc-highlight">Future push(BuildContext context, Route route)</a></li><li><a href="#bool-popbuildcontext-context--result-" class="table-of-contents__link toc-highlight">bool pop(BuildContext context,  result )</a></li><li><a href="#实例方法" class="table-of-contents__link toc-highlight">实例方法</a></li></ul></li><li><a href="#路由传值" class="table-of-contents__link toc-highlight">路由传值</a><ul><li><a href="#示例" class="table-of-contents__link toc-highlight">示例</a></li></ul></li><li><a href="#命名路由" class="table-of-contents__link toc-highlight">命名路由</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">版权 © 2022 Malaaa site。使用 Docusaurus 构建。</div></div></div></footer></div>
<script src="/zh-CN/assets/js/runtime~main.948c3caf.js"></script>
<script src="/zh-CN/assets/js/main.015bc471.js"></script>
</body>
</html>