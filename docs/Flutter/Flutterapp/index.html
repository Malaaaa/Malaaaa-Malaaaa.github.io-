<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<title data-react-helmet="true">Flutterapp | My blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://malaaa.mljlls.tech//docs/Flutter/Flutterapp"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Flutterapp | My blog"><meta data-react-helmet="true" name="description" content="Flutter code structure"><meta data-react-helmet="true" property="og:description" content="Flutter code structure"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://malaaa.mljlls.tech//docs/Flutter/Flutterapp"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//docs/Flutter/Flutterapp" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//docs/Flutter/Flutterapp" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d07dca9e.css">
<link rel="preload" href="/assets/js/runtime~main.3199a7f8.js" as="script">
<link rel="preload" href="/assets/js/main.015c9a73.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/img/logo.svg" alt="My Site Logo" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">My Site</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/intro">My Treasures</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Malaaaa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/intro">Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/HomeChain">HomeChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/NetworkBS">Computer Network Basic</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docsify">docsify</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/httpwww">httpwww</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/note">Note</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/CSAPP/CSAPPNOTE">CSAPP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_TwRn" href="/docs/Flutter/">Flutter</a><button aria-label="Toggle the collapsible sidebar category &#x27;Flutter&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Flutter/Dartanalysis">Debugging Flutter applications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Flutter/Flutterapp">Flutterapp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Flutter/Package">Package Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Flutter/ResourceM">Resource Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Flutter/Route">Flutter Route Management</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/Medical_image/afni">Medical_image</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_TwRn" href="/docs/Skill/IDE">Skill</a></div></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Flutterapp</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="flutter-code-structure">Flutter code structure<a class="hash-link" href="#flutter-code-structure" title="Direct link to heading">â€‹</a></h2><h2 class="anchor anchorWithStickyNavbar_y2LR" id="basic-framework">Basic framework<a class="hash-link" href="#basic-framework" title="Direct link to heading">â€‹</a></h2><ol><li><p>Import packages.</p><div class="codeBlockContainer_J+bg language-dart theme-code-block"><div class="codeBlockContent_csEI dart"><pre tabindex="0" class="prism-code language-dart codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">import &#x27;package:flutter/material.dart&#x27;;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This line of code acts as an import of the Material UI component library. <a href="https://material.io/guidelines" target="_blank" rel="noopener noreferrer">Material</a> is a standard visual design language for mobile and web, and Flutter provides a rich set of Material style UI components by default. 2.</p></li><li><p>application portal.</p><div class="codeBlockContainer_J+bg language-dart theme-code-block"><div class="codeBlockContent_csEI dart"><pre tabindex="0" class="prism-code language-dart codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">void main() =&gt; runApp(MyApp());</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li>Similar to C/C++, Java, <code>main</code> function in Flutter application is the entry point of the application. The <code>main</code> function calls the <code>runApp</code> method, whose function is to start the Flutter application. <code>runApp</code> takes a <code>Widget</code> parameter, which in this case is a <code>MyApp</code> object, and <code>MyApp()</code> is the root component of the Flutter application.</li><li>The <code>main</code> function uses the (<code>=&gt;</code>) notation, which is shorthand for a one-line function or method in Dart.</li></ul></li><li><p>Application structure.</p><div class="codeBlockContainer_J+bg language-dart theme-code-block"><div class="codeBlockContent_csEI dart"><pre tabindex="0" class="prism-code language-dart codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">class MyApp extends StatelessWidget {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Widget build(BuildContext context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new MaterialApp(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      //application name  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      title: &#x27;Flutter Demo&#x27;, </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      theme: new ThemeData(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //blue theme  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        primarySwatch: Colors.blue,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      //application home page route  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      home: new MyHomePage(title: &#x27;Flutter Demo Home Page&#x27;),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li><p>The <code>MyApp</code> class represents a Flutter application that inherits from the <code>StatelessWidget</code> class, which means that the application itself is also a widget.</p></li><li><p>In Flutter, most things are widgets (later &quot;components&quot; or &quot;widgets&quot;), including alignment, padding, layout, etc., which are all are provided in the form of widgets.</p></li><li><p>Flutter calls the <code>build</code> method of a component when building a page. The main job of a widget is to provide a build() method to describe how to build the UI interface (usually by combining and assembling other base widgets).</p></li><li><p><code>MaterialApp</code> is the Flutter APP framework provided in the Material library, through which you can set the name, theme, language, home page and routing list of the application. <code>MaterialApp</code> is also a widget.</p></li><li><p><code>home</code> is the home page of the Flutter app, it is also a widget.</p></li></ul></li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="home-page-component">Home page component<a class="hash-link" href="#home-page-component" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_J+bg language-dart theme-code-block"><div class="codeBlockContent_csEI dart"><pre tabindex="0" class="prism-code language-dart codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">class MyHomePage extends StatefulWidget {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  MyHomePage({Key key, this.title}) : super(key: key);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  final String title;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  _MyHomePageState createState() =&gt; new _MyHomePageState();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">class _MyHomePageState extends State&lt;MyHomePage&gt; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p><code>MyHomePage</code> is the home page of the Flutter application, it inherits from the <code>StatefulWidget</code> class, which means it is a <strong>stateful widget</strong> (a stateful component). For now, let&#x27;s just briefly consider that a stateful widget is different from a stateless widget in two ways.</p><ol><li><p>Stateful widgets can have states that are mutable during the widget lifecycle, while Stateless widgets are immutable.</p></li><li><p>Stateful widget consists of at least two classes.</p><ul><li>A <code>StatefulWidget</code> class.</li><li>A <code>State</code> class; the <code>StatefulWidget</code> class itself is immutable, but the state held in the <code>State</code> class may change during the widget&#x27;s lifecycle.</li></ul><p>The <code>_MyHomePageState</code> class is the state class corresponding to the <code>MyHomePage</code> class. Here, the reader may have noticed: Unlike the <code>MyApp</code> class, there is no <code>build</code> method in the <code>MyHomePage</code> class, instead, the <code>build</code> method has been moved to the <code>_MyHomePageState</code> method.</p></li></ol><h3 class="anchor anchorWithStickyNavbar_y2LR" id="state-class">State class<a class="hash-link" href="#state-class" title="Direct link to heading">â€‹</a></h3><p>Next, let&#x27;s see what is contained in <code>_MyHomePageState</code>.</p><ol><li><p>the state of the component. Since we only need to maintain a click counter, define a <code>_counter</code> state.</p><p>``dart
int _counter = 0; // used to record the total number of button clicks</p><div class="codeBlockContainer_J+bg theme-code-block"><div class="codeBlockContent_csEI"><pre tabindex="0" class="prism-code language-undefined codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`_counter` is the state that holds the number of button clicks with a &quot;+&quot; sign in the bottom right corner of the screen.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></li><li><p>Set the self-increment function for the status.</p><div class="codeBlockContainer_J+bg language-dart theme-code-block"><div class="codeBlockContent_csEI dart"><pre tabindex="0" class="prism-code language-dart codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">void _incrementCounter() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  setState(() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     _counter++;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This function is called when the button is clicked. The function works by first self-incrementing <code>_counter</code> and then calling the <code>setState</code> method. The purpose of the <code>setState</code> method is to notify the Flutter framework that a state has changed. When the Flutter framework receives the notification, it will execute the <code>build</code> method to rebuild the interface based on the new state. so you can rebuild anything that needs to be updated without having to modify individual widgets.</p></li><li><p>Build UI interface</p><p>The logic for building the UI interface is in the <code>build</code> method. When <code>MyHomePage</code> is created for the first time, the <code>_MyHomePageState</code> class will be created, and when the initialization is complete, the Flutter framework will call the <code>build</code> method of the widget to build the widget tree, and finally render the widget tree to the device screen . So, let&#x27;s see what is done in the <code>build</code> method of <code>_MyHomePageState</code>.</p><div class="codeBlockContainer_J+bg language-dart theme-code-block"><div class="codeBlockContent_csEI dart"><pre tabindex="0" class="prism-code language-dart codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  Widget build(BuildContext context) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return new Scaffold(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      appBar: new AppBar(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        title: new Text(widget.title),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      body: new Center(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        child: new Column(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          mainAxisAlignment: MainAxisAlignment.center,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          children: &lt;Widget&gt;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Text(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;You have pushed the button this many times:&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            new Text(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              &#x27;$_counter&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              style: Theme.of(context).textTheme.headline4,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      floatingActionButton: new FloatingActionButton(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        onPressed: _incrementCounter,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tooltip: &#x27;Increment&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        child: new Icon(Icons.add),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><ul><li><code>Scaffold</code> is a page scaffold provided in the Material library that provides a default navigation bar, a header, and a <code>body</code> property containing the main screen widget tree (later referred to as the &quot;component tree&quot; or &quot;widget tree&quot;). Component trees can be very complex. In the examples later in this book, routes are created via <code>Scaffold</code> by default.</li><li>The component tree of <code>body</code> contains a <code>Center</code> component, and <code>Center</code> can align its child component trees to the center of the screen. In this case, the <code>Center</code> subcomponent is a <code>Column</code> component, and the role of <code>Column</code> is to align all its subcomponents vertically along the screen; in this case, the <code>Column</code> subcomponent is two <code>Text</code>s, and the first <code>Text</code> displays the fixed text &quot;You have pushed the button this many times:&quot;, and the second <code>Text</code> displays the value of the <code>_counter</code> state.</li><li>The <code>floatingActionButton</code> is the hover button with <code>+</code> in the bottom right corner of the page, its <code>onPressed</code> property accepts a callback function that represents its handler when it is clicked, in this case the <code>_incrementCounter</code> method is directly used as its handler function.</li></ul></li></ol><p>Now, let&#x27;s string together the entire counter execution flow: when the <code>floatingActionButton</code> button in the bottom-right corner is clicked, the <code>_incrementCounter</code> method is called. In the <code>_incrementCounter</code> method, first the <code>_counter</code> counter (state) will be self-incremented, then <code>setState</code> will notify the Flutter framework that the state has changed, then the Flutter framework will call the <code>build</code> method to rebuild the UI with the new state and finally display it on the device screen.</p><h4 class="anchor anchorWithStickyNavbar_y2LR" id="why-put-the-build-method-in-state-and-not-in-statefulwidget">Why put the build method in State and not in StatefulWidget?<a class="hash-link" href="#why-put-the-build-method-in-state-and-not-in-statefulwidget" title="Direct link to heading">â€‹</a></h4><p>Now, let&#x27;s answer the question raised earlier, why is the <code>build()</code> method placed in State (instead of <code>StatefulWidget</code>) ? This is mainly to increase the flexibility of development. If the <code>build()</code> method is placed in the <code>StatefulWidget</code> there are two problems.</p><ul><li><p>Inconvenient state access</p><p>Imagine if our <code>StatefulWidget</code> has many states, and each time the state changes, we have to call the <code>build</code> method, since the state is stored in State, if the <code>build</code> method is in <code>StatefulWidget</code>, then the <code>build</code> method and the state are in two separate classes, so it will be very inconvenient to read the state when building! would be very inconvenient! Imagine if you actually put the <code>build</code> method in a StatefulWidget, since the process of building the UI depends on the State, the <code>build</code> method would have to have a <code>State</code> parameter, something like the following.</p><div class="codeBlockContainer_J+bg language-dart theme-code-block"><div class="codeBlockContent_csEI dart"><pre tabindex="0" class="prism-code language-dart codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">  Widget build(BuildContext context, State state){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      //state.counter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>In this case, you can only declare all the state of the State as public, so that you can access the state outside the State class! However, by making the state public, the state will no longer be private, which means that modifications to the state will become uncontrollable. But if you put the <code>build()</code> method in the State, the build process not only has direct access to the state, but also does not need to expose the private state, which is very convenient.</p></li><li><p>Inheriting <code>StatefulWidget</code> is inconvenient</p><p>For example, Flutter has a base class <code>AnimatedWidget</code> for animated widgets, which inherits from the <code>StatefulWidget</code> class. An abstract method <code>build(BuildContext context)</code> is introduced in <code>AnimatedWidget</code>, and all animated widgets that inherit from <code>AnimatedWidget</code> have to implement this <code>build</code> method. Now imagine that if the <code>StatefulWidget</code> class already has a <code>build</code> method, as described above, the <code>build</code> method needs to receive a state object, which means that the <code>AnimatedWidget</code> has to pass its own State object (noted as _ animatedWidgetState) to its child class, because the child class needs to call the parent class&#x27;s <code>build</code> method in its <code>build</code> method, and the code might look like this.</p><div class="codeBlockContainer_J+bg language-dart theme-code-block"><div class="codeBlockContent_csEI dart"><pre tabindex="0" class="prism-code language-dart codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">class MyAnimationWidget extends AnimatedWidget{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    @override</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Widget build(BuildContext context, State state){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      //since the subclass is going to use the AnimatedWidget&#x27;s state object _animatedWidgetState.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      //so the AnimatedWidget must somehow expose its state object _animatedWidgetState</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      // Expose it to its subclasses   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      super.build(context, _animatedWidgetState)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>This obviously doesn&#x27;t make sense, because</p><ol><li>the state object of <code>AnimatedWidget</code> is an internal implementation detail of <code>AnimatedWidget</code> and should not be exposed to the outside.</li><li>if the parent class state is to be exposed to the child class, then there must be a passing mechanism, and it is pointless to do this set of passing mechanism, because the passing of state between parent and child classes is irrelevant to the logic of the child class itself.</li></ol></li></ul><p>To sum up, it can be found that for <code>StatefulWidget</code>, putting the <code>build</code> method in State can bring a lot of flexibility to the development.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Malaaaa/blog-sample/main/docs/Flutter/Flutterapp.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Flutter/Dartanalysis"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Debugging Flutter applications</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Flutter/Package"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Package Management</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#flutter-code-structure" class="table-of-contents__link toc-highlight">Flutter code structure</a></li><li><a href="#basic-framework" class="table-of-contents__link toc-highlight">Basic framework</a></li><li><a href="#home-page-component" class="table-of-contents__link toc-highlight">Home page component</a><ul><li><a href="#state-class" class="table-of-contents__link toc-highlight">State class</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Malaaaa Site. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.3199a7f8.js"></script>
<script src="/assets/js/main.015c9a73.js"></script>
</body>
</html>