<!doctype html>
<html class="docs-version-current" lang="fr" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Apprentissage flottant | My resume</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://malaaa.mljlls.tech//fr/docs/Flutter/"><meta data-react-helmet="true" name="docusaurus_locale" content="fr"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Apprentissage flottant | My resume"><meta data-react-helmet="true" name="description" content="Aperçu Aperçu"><meta data-react-helmet="true" property="og:description" content="Aperçu Aperçu"><link data-react-helmet="true" rel="icon" href="/fr/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://malaaa.mljlls.tech//fr/docs/Flutter/"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//docs/Flutter/" hreflang="en-GB"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//fr/docs/Flutter/" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//zh-CN/docs/Flutter/" hreflang="zh-CN"><link data-react-helmet="true" rel="alternate" href="https://malaaa.mljlls.tech//docs/Flutter/" hreflang="x-default"><link rel="stylesheet" href="/fr/assets/css/styles.2d7a9211.css">
<link rel="preload" href="/fr/assets/js/runtime~main.1df6686d.js" as="script">
<link rel="preload" href="/fr/assets/js/main.a68af7fd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Passer au contenu principal</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/fr/"><div class="navbar__logo"><img src="/fr/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/fr/img/logo.svg" alt="My Site Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Mon CV</b></a><a class="navbar__item navbar__link navbar__link--active" href="/fr/docs/intro">Mes notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Malaaaa" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link"></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__link"><span><svg viewBox="0 0 20 20" width="20" height="20" aria-hidden="true" class="iconLanguage_dNtB"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Français</span></span></a><ul class="dropdown__menu"><li><a href="/docs/Flutter/" target="_self" rel="noopener noreferrer" class="dropdown__link">English</a></li><li><a href="/fr/docs/Flutter/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active">Français</a></li><li><a href="/zh-CN/docs/Flutter/" target="_self" rel="noopener noreferrer" class="dropdown__link">中文（中国）</a></li></ul></div><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">🌜</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">🌞</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Faites défiler vers le haut" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/intro">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/ReadingNote">Livres</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/HomeChain">HomeChain</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/LinuxConfigNote">Noter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/NetworkBS">Réseau informatique de base</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/Web-Note">Web notes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/fr/docs/docsify">documenter</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/fr/docs/CSAPP/CSAPPNOTE">CSAPP</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active hasHref_VCh3" aria-current="page" href="/fr/docs/Flutter/">Battement</a><button aria-label="Basculer la catégorie de la barre latérale réductible &#x27;Battement&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/Flutter/Dartanalysis">Débogage des applications Flutter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/Flutter/Flutterapp">Flutterapp</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/Flutter/Package">Gestion des packages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/Flutter/ResourceM">La gestion des ressources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/fr/docs/Flutter/Route">Gestion des itinéraires flottants</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/fr/docs/React/Reminder">Réagir</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/fr/docs/Skill/IDE">Compétence</a></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">Sur cette page</button></div><div class="theme-doc-markdown markdown"><h1>Apprentissage flottant</h1><h2 class="anchor anchorWithStickyNavbar_mojV" id="aperçu-aperçu">Aperçu Aperçu<a class="hash-link" href="#aperçu-aperçu" title="Lien direct vers la rubrique">​</a></h2><ul><li>est le cadre d&#x27;interface utilisateur mobile de Google permettant de créer rapidement des interfaces utilisateur natives de haute qualité sur iOS et Android. Il peut également être utilisé pour le Web et d&#x27;autres utilitaires multi-fins.</li><li><a href="https://book.flutterchina.club/" target="_blank" rel="noopener noreferrer">flottement pratique</a> Les opérations suivantes sont également basées sur ce livre</li><li>L&#x27;arbre DOM et l&#x27;arbre de contrôle sont similaires<ul><li>Arbre DOM (html) ! <a href="https://raw.githubusercontent.com/Malaaaa/cloudimage/master/pic_htmltree.gif" target="_blank" rel="noopener noreferrer">arbre DOM</a></li><li>Arbre de widgets (scintillement) ! <a href="https://raw.githubusercontent.com/Malaaaa/cloudimage/master/OIP.Bw-atr2JI-0ypRc2E9JcZgHaGa" target="_blank" rel="noopener noreferrer">Arbre des widgets</a></li></ul></li></ul><blockquote><p>Relations hiérarchiques comme Unity</p></blockquote><ul><li><p>Flutter utilise son propre moteur de rendu hautes performances pour dessiner des widgets.</p></li><li><p>La haute performance de Flutter est principalement assurée par deux choses, premièrement, Flutter APP est développé en langage Dart, qui est fondamentalement à la même vitesse que JavaScript en mode JIT (Just-In-Time). Cependant, Dart prend en charge AOT, et lors de l&#x27;exécution en mode AOT (compilation avant exécution), JavaScript est loin derrière. L&#x27;augmentation de la vitesse est utile pour calculer les données de vue à des fréquences d&#x27;images élevées. Deuxièmement, Flutter utilise son propre moteur de rendu pour dessiner l&#x27;interface utilisateur, et les données de mise en page, etc. sont directement contrôlées par le langage Dart, il n&#x27;est donc pas nécessaire de communiquer entre JavaScript et Native pendant le processus de mise en page comme RN, ce qui est un net avantage dans certains glissements. et faire glisser des scénarios.</p></li><li><p>Structure du cadre flottant</p><blockquote><p>! <a href="https://pcdn.flutterchina.club/imgs/1-1.png" target="_blank" rel="noopener noreferrer">Structure du cadre</a></p></blockquote></li><li><p>&quot;Hot Reload&quot; ne reconstruit que l&#x27;intégralité de l&#x27;arborescence des widgets)</p></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="fondamentaux-du-langage-dart">Fondamentaux du langage Dart<a class="hash-link" href="#fondamentaux-du-langage-dart" title="Lien direct vers la rubrique">​</a></h2><h3 class="anchor anchorWithStickyNavbar_mojV" id="déclarations-de-variables">Déclarations de variables<a class="hash-link" href="#déclarations-de-variables" title="Lien direct vers la rubrique">​</a></h3><ol><li><p><strong>var</strong></p><p>Semblable à <code>var</code> en JavaScript, il peut recevoir des variables de n&#x27;importe quel type, mais la plus grande différence est qu&#x27;une fois qu&#x27;une variable var se voit attribuer une valeur dans Dart, le type est déterminé et le type ne peut pas être modifié, par exemple</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var t;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t = &quot;salut monde&quot; ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Le code suivant signalera une erreur dans dart, car le type de variable t a été déterminé comme String.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Une fois le type déterminé, il ne peut plus être modifié.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t = 1000 ;</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>Dart est un langage fortement typé, toute variable a un type défini. Dans Dart, lorsqu&#x27;une variable est déclarée avec <code>var</code>, Dart déduira son type en fonction du type de la première affectation, et son type sera déterminé après compilation.</p></li><li><p><strong>dynamique</strong> et <strong>Objet</strong></p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">`Object` est la classe racine de tous les objets Dart, c&#x27;est-à-dire que tous les types sont des sous-classes de `Object` (y compris Function et Null), de sorte que tout type de données peut être affecté à un objet déclaré par `Object`. `dynamique` est le même mot clé que `var`, et les variables déclarées peuvent être affectées à n&#x27;importe quel objet. Et `dynamique` est identique à `Objet` en ce sens que les variables qu&#x27;ils déclarent peuvent changer le type d&#x27;affectation à un stade ultérieur.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```dart</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t dynamique ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Objet x ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t = &quot;salut monde&quot; ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x = &#x27;Bonjour Objet&#x27; ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Le code suivant est bon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">t = 1000;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">= 1000 ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>   La différence entre <code>dynamique</code> et <code>Objet</code> est que le compilateur fournira toutes les combinaisons possibles d&#x27;objets déclarés par <code>dynamiques</code>, L&#x27;objet déclaré par <code>Objet</code> ne peut utiliser que les propriétés et les méthodes de Objet, sinon le compilateur signalera une erreur. Par exemple:</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> dynamique a;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> Objet b ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> principale() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     une = &quot;&quot; ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     = &quot;&quot; ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     printLengths();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> }   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> printLengths() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     // pas d&#x27;avertissement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     print(a.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     // avertissement :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     // Le getter &#x27;length&#x27; n&#x27;est pas défini pour la classe &#x27;Object&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     print(b.length);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>   La variable a ne signalera pas d&#x27;erreur, la variable b sera signalée par le compilateur</p><p>   Cette caractéristique de <code>dynamique</code> est similaire au rôle de <code>id</code> dans <code>Objective-C</code>. Cette fonctionnalité de <code>dynamique</code> nous oblige à être prudent lors de son utilisation, car elle peut facilement introduire une erreur d&#x27;exécution.</p></li><li><p><strong>final</strong> et <strong>const</strong></p><p>Si vous n&#x27;avez jamais l&#x27;intention de modifier une variable, utilisez <code>final</code> ou <code>const</code>, et non <code>var</code>et non un type. Une variable <code>final</code> ne peut être définie qu&#x27;une seule fois, la différence étant qu&#x27;une variable <code>const</code> est une constante de compilation et qu&#x27;une variable <code>final</code> est initialisée la première fois qu&#x27;elle est utilisée. Les variables modifiées par <code>final</code> ou <code>const</code> ont des types de variables qui peuvent être omis, par exemple</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">// La déclaration de type String peut être omise</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">final str = &quot;hi world&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//chaîne finale str = &quot;salut le monde&quot; ; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">const str1 = &quot;salut monde&quot; ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//const String str1 = &quot;salut monde&quot; ;</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="les-fonctions">Les fonctions<a class="hash-link" href="#les-fonctions" title="Lien direct vers la rubrique">​</a></h3><p>Dart est un véritable langage orienté objet, donc même les fonctions sont des objets et ont un type <strong>Function</strong>. Cela signifie que les fonctions peuvent être affectées à des variables ou transmises en tant qu&#x27;arguments à d&#x27;autres fonctions, ce qui est typique de la programmation fonctionnelle.</p><ol><li><p>Déclaration de fonction</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">bool isNoble(int atomicNumber) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return _nobleGases[atomicNumber]! = nul ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>   Les déclarations de fonction Dart qui ne déclarent pas explicitement le type de valeur de retour sont traitées comme <code>dynamique</code> par défaut, notez qu&#x27;il n&#x27;y a pas d&#x27;inférence de type pour la valeur de retour de la fonction.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">typedef bool RAPPEL();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//ne spécifiez pas le type de retour, la valeur par défaut est dynamique, pas bool</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">isNoble(int atomicNumber) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return _nobleGases[atomicNumber]! = nul ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void test(CALLBACK cb){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   print(cb()); </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// erreur, isNoble n&#x27;est pas un bool type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">test(isNoble);</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div></li><li><p>Pour les fonctions qui ne contiennent qu&#x27;une seule expression, vous pouvez utiliser la syntaxe abrégée</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">bool isNoble (int atomicNumber) =&gt; _nobleGases [ atomicNumber ] ! = nul ;   </span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div></li><li><p>Fonctions comme variables</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">var say = (str){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  print(str);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">say(&quot;salut le monde&quot;);</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div></li><li><p>Fonctions passées en arguments</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">void execute(var callback) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    callback();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exécuter(() =&gt; imprimer(&quot;xxx&quot;))</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div></li><li><p>Arguments positionnels facultatifs</p><p>   Enveloppez un ensemble d&#x27;arguments de fonction, marquez-les comme arguments positionnels facultatifs avec [] et placez-les à la fin de la liste d&#x27;arguments.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">String say(String from, String msg, [String device]) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  var résultat = &#x27;$from dit $msg&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  si (appareil ! = null) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result = &#x27;$result with a $device&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  renvoie le résultat ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>   Voici un exemple d&#x27;appel de cette fonction sans arguments optionnels.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">say(&#x27;Bob&#x27;, &#x27;Bonjour&#x27;); // le résultat est : Bob dit bonjour</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>   Voici un exemple d&#x27;appel de cette fonction avec le troisième argument.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">say(&#x27;Bob&#x27;, &#x27;Howdy&#x27;, &#x27;smoke signal&#x27;); // le résultat est : Bob dit bonjour avec un signal de fumée</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div></li><li><p>Paramètres nommés facultatifs</p><p>   Lors de la définition d&#x27;une fonction, utilisez {param1, param2, ...}, placé à la fin de la liste des paramètres, pour spécifier les paramètres nommés. Par exemple.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">// Définir les drapeaux [bold] et [hidden]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">void enableFlags({bool bold, bool hidden}) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ... </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>   Lors de l&#x27;appel d&#x27;une fonction, vous pouvez utiliser le paramètre nommé spécifié. Par exemple : <code>paramName : valeur</code></p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">enableFlags(gras : vrai, masqué : faux) ;</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>   Les paramètres nommés optionnels sont très utilisés dans Flutter.</p><p>   <strong>Notez que vous ne pouvez pas utiliser à la fois des paramètres de position facultatifs et des paramètres nommés facultatifs</strong></p></li></ol><h3 class="anchor anchorWithStickyNavbar_mojV" id="prise-en-charge-asynchrone">Prise en charge asynchrone<a class="hash-link" href="#prise-en-charge-asynchrone" title="Lien direct vers la rubrique">​</a></h3><p>La bibliothèque de classes Dart possède un très grand nombre de fonctions qui retournent <code>objets Future</code> ou <code>Stream</code>. Ces fonctions sont appelées <strong>Fonctions asynchrones</strong>: elles ne reviennent qu&#x27;après la mise en place d&#x27;une opération chronophage, comme une opération IO. Au lieu d&#x27;attendre que l&#x27;opération soit terminée.</p><p>Les mots-clés <code>async</code> et <code>attendent</code> prennent en charge la programmation asynchrone, ce qui vous permet d&#x27;écrire du code asynchrone un peu comme du code synchrone.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="avenir">Avenir<a class="hash-link" href="#avenir" title="Lien direct vers la rubrique">​</a></h4><p><code>Future</code> est très similaire à <code>Promise</code> en JavaScript et représente l&#x27;achèvement final (ou l&#x27;échec) d&#x27;une opération asynchrone et la représentation de sa valeur de résultat. En bref, il est utilisé pour gérer les opérations asynchrones. Si le traitement asynchrone réussit, l&#x27;opération réussie est exécutée et si le traitement asynchrone échoue, une erreur est détectée ou l&#x27;opération suivante est arrêtée. Un Futur ne correspondra qu&#x27;à un seul résultat, succès ou échec.</p><p>Puisqu&#x27;il a beaucoup de fonctions, nous ne présenterons ici que son API et ses fonctionnalités communes. N&#x27;oubliez pas non plus que la valeur de retour de toutes les API <code>Future</code> est toujours un objet <code>Future</code> , il est donc facile d&#x27;enchaîner les appels.</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="futuralors">Futur.alors<a class="hash-link" href="#futuralors" title="Lien direct vers la rubrique">​</a></h5><p>Par exemple, dans ce cas, nous utilisons <code>Future.delayed</code> pour créer une tâche retardée (le scénario réel serait une tâche chronophage, comme une requête réseau) qui renvoie la chaîne de résultat &quot;hi world!&quot; au bout de 2 secondes, puis on reçoit le résultat asynchrone en <code>puis</code> et on imprime le résultat avec le code suivant.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Future.delayed(new Duration(seconds: 2), (){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return &quot;hi world!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).then((data){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   print(data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="futurecatcherror">Future.catchError<a class="hash-link" href="#futurecatcherror" title="Lien direct vers la rubrique">​</a></h3><p>Si une erreur se produit dans une tâche asynchrone, nous pouvons intercepter l&#x27;erreur dans <code>catchError</code>, et nous changeons l&#x27;exemple ci-dessus en</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Future.delayed(new Duration(seconds: 2),(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   //return &quot;hi world!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   throw AssertionError(&quot;Error&quot;);  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).then((data){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   //exécuter avec succès allez ici  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   print(&quot;success&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).catchError((e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   //échec d&#x27;exécution va ici  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   print(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>Dans cet exemple, nous avons levé une exception dans une tâche asynchrone et la fonction de rappel <code>puis</code> ne sera pas exécutée, à la place la fonction de rappel <code>catchError</code> sera appelée ; cependant, le rappel <code>catchError</code> n&#x27;est pas le seul à intercepter les erreurs, la méthode <code>then</code> a un paramètre optionnel <code>onError</code> que nous pouvons également utiliser pour intercepter l&#x27;exception.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Future.delayed(new Duration(seconds: 2), () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //return &quot;hi world!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throw AssertionError(&quot;Error&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).then((data) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(&quot;success&quot; );</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, onError : (e) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="futurewhencomplet">Future.whenComplet<a class="hash-link" href="#futurewhencomplet" title="Lien direct vers la rubrique">​</a></h5><p>Il y a des moments où nous rencontrons des scénarios où nous devons faire quelque chose indépendamment du succès ou de l&#x27;échec de l&#x27;exécution de la tâche asynchrone, comme faire apparaître la boîte de dialogue de chargement avant la demande réseau et la fermer une fois la demande terminée. Le premier est de fermer la boîte de dialogue en <code>puis</code> ou <code>catch</code> respectivement, et le second est d&#x27;utiliser <code>whenComplete</code> callback of <code>Future</code>, nous allons changer l&#x27;exemple ci-dessus comme suit</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Future.delayed(new Duration(seconds: 2),(){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   //return &quot;hi world!&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   throw AssertionError(&quot;Error&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).then((data){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   // le succès de l&#x27;exécution sera allez ici </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   print(data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).catchError((e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   //Échec de l&#x27;exécution va ici   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   print(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).whenComplete((){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   //ira ici s&#x27;il réussit ou échoue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><h5 class="anchor anchorWithStickyNavbar_mojV" id="futurewait">Future.wait<a class="hash-link" href="#futurewait" title="Lien direct vers la rubrique">​</a></h5><p>Il y a des moments où nous devons attendre la fin de l&#x27;exécution de plusieurs tâches asynchrones avant d&#x27;effectuer certaines opérations, par exemple, nous avons une interface qui doit d&#x27;abord récupérer les données de deux interfaces Web séparément, et après la récupération réussie, nous devons effectuer des opérations spécifiques traitement sur les deux données d&#x27;interface avant de les afficher sur l&#x27;interface utilisateur, comment devrions-nous faire cela ? La réponse est <code>Future.wait</code>, qui accepte un tableau de <code>paramètres Future</code> , seulement après que les <code>Future</code> du tableau sont exécutés avec succès, le rappel de succès de <code>puis</code> sera déclenché, tant qu&#x27;il y a un <code>Échec d&#x27;exécution du futur</code> , le rappel d&#x27;erreur sera déclenché. Dans ce qui suit, nous simulons deux tâches asynchrones de récupération de données en simulant <code>Future.delayed</code>, et lorsque les deux tâches asynchrones sont exécutées avec succès, les résultats des deux tâches asynchrones sont assemblés et imprimés, avec le code suivant.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Future.wait([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // renvoie le résultat après 2 secondes  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Future.delayed(new Duration(seconds: 2), () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;hello&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // renvoie le résultat après 4 secondes  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Future.delayed(new Duration(seconds: 4), () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot; world&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]).then((results){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  print(results[0]+results[1]);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).catchError( (e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  print(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>Exécutez le code ci-dessus et vous verrez &quot;hello world&quot; dans la console après 4 secondes.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="asynchroneattendre">Asynchrone/attendre<a class="hash-link" href="#asynchroneattendre" title="Lien direct vers la rubrique">​</a></h4><p>La fonction et l&#x27;utilisation de <code>async/wait</code> dans Dart et <code>async/wait</code> dans JavaScript sont exactement les mêmes, donc si vous connaissez déjà l&#x27;utilisation de <code>async/wait</code> dans JavaScript, vous pouvez simplement ignorer cette section.</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="lenfer-des-rappels">L&#x27;enfer des rappels<a class="hash-link" href="#lenfer-des-rappels" title="Lien direct vers la rubrique">​</a></h5><p>S&#x27;il y a beaucoup de logique asynchrone dans le code, et s&#x27;il y a beaucoup de tâches asynchrones qui dépendent des résultats d&#x27;autres tâches asynchrones, il y a forcément une situation de rappel dans le rappel <code>Future.then</code>. Par exemple, supposons qu&#x27;il existe un scénario d&#x27;exigence où l&#x27;utilisateur se connecte d&#x27;abord, puis obtient l&#x27;ID utilisateur après une connexion réussie, puis demande les informations personnelles de l&#x27;utilisateur via l&#x27;ID utilisateur, et après avoir obtenu les informations personnelles de l&#x27;utilisateur, nous devons cachez-le dans le système de fichiers local pour en faciliter l&#x27;utilisation, avec le code suivant.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">// Définissez d&#x27;abord chaque tâche asynchrone séparément</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Future&lt;String&gt; login(String userName, String pwd){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //connexion utilisateur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Futur&lt;String&gt; getUserInfo(String id){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //obtenir les informations utilisateur </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Future saveUserInfo(String userInfo){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // Enregistrer les informations utilisateur </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} ; </span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>Ensuite, exécutez l&#x27;intégralité du flux de tâches.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">login(&quot;alice&quot;, &quot;******&quot;).then((id){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> //obtenir les informations de l&#x27;utilisateur par, id après une connexion réussie    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> getUserInfo(id).then((userInfo){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //Obtenir les informations de l&#x27;utilisateur et enregistrez-les </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    saveUserInfo(userInfo).then((){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       //Enregistrer les informations de l&#x27;utilisateur et effectuer d&#x27;autres opérations next</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  });</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">})</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>S&#x27;il y a beaucoup de dépendances asynchrones dans la logique métier, il y aura un rappel à l&#x27;intérieur du rappel, trop d&#x27;imbrication entraînera une diminution de la lisibilité et du taux d&#x27;erreur, et il est très difficile à maintenir, ce problème est appelé imaginativement <strong>Callback Hell</strong>. Le problème de l&#x27;enfer du rappel était très important dans JavaScript auparavant, et était le point le plus contrôlé de JavaScript, mais avec la publication des normes ECMAScript6 et ECMAScript7, ce problème a été très bien résolu, et les deux outils magiques pour résoudre l&#x27;enfer du rappel sont l&#x27;introduction de <code>Promise</code> dans ECMAScript6 et l&#x27;introduction de <code>Promise</code> dans ECMAScript7. et l&#x27;introduction de <code>async/wait</code> dans ECMAScript7. Dans Dart, les deux sont presque complètement paniqués en JavaScript : <code>Future</code> équivaut à <code>Promise</code>, et <code>async/wait</code> ne change même pas de nom. Voyons ensuite comment nous pouvons éliminer le problème d&#x27;imbrication dans l&#x27;exemple ci-dessus en utilisant <code>Future</code> et <code>async/wait</code>.</p><h5 class="anchor anchorWithStickyNavbar_mojV" id="éliminer-lenfer-des-rappels-avec-future">Éliminer l&#x27;enfer des rappels avec Future<a class="hash-link" href="#éliminer-lenfer-des-rappels-avec-future" title="Lien direct vers la rubrique">​</a></h5><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">login(&quot;alice&quot;, &quot;******&quot;).then((id){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   return getUserInfo(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).then((userInfo){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return saveUserInfo(userInfo);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}). then((e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   //exécute l&#x27;action suivante </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}).catchError((e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // gestion des erreurs  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  print(e);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>Comme mentionné ci-dessus, <em>&quot;la valeur de retour de toutes les API de <code>Future</code> est toujours un objet <code>Future</code> , il est donc facile d&#x27;enchaîner les appels &quot;</em> , si un <code>Future</code> est renvoyé dans alors, le <code>futur</code> s&#x27;exécutera , et la fin de l&#x27;exécution déclenchera le Le callback <code>puis</code> sera déclenché après l&#x27;exécution, de sorte que l&#x27;imbrication des couches est évitée en descendant séquentiellement.</p><h4 class="anchor anchorWithStickyNavbar_mojV" id="éliminer-lenfer-des-rappels-avec-asyncwait">Éliminer l&#x27;enfer des rappels avec async/wait<a class="hash-link" href="#éliminer-lenfer-des-rappels-avec-asyncwait" title="Lien direct vers la rubrique">​</a></h4><p>Existe-t-il un moyen d&#x27;exécuter des tâches asynchrones pendant que nous écrivons du code synchrone sans utiliser de rappels ? La réponse est oui, il s&#x27;agit d&#x27;utiliser <code>async/wait</code>, ce qui suit nous regardons directement le code d&#x27;abord, puis expliquons, le code est le suivant.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">tâche() asynchrone {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   essayer{</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ID de chaîne = attendre login(&quot;alice&quot;, &quot;******&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Chaîne userInfo = attendre getUserInfo(id);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    attendre saveUserInfo(userInfo);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //exécute l&#x27;action suivante   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   } catch(e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // gestion des erreurs   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    print(e);   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><ul><li><code>async</code> est utilisé pour indiquer que la fonction est asynchrone, et la fonction définie renvoie un objet <code>Future</code> , qui peut être utilisé pour ajouter une fonction de rappel à l&#x27;aide de la méthode then.</li><li><code>await</code> est suivi d&#x27;un <code>Future</code>, qui indique qu&#x27;il attend que cette tâche asynchrone se termine et ne s&#x27;arrêtera que lorsque l&#x27;asynchronie sera terminée ; <code>wait</code> doit apparaître dans la fonction <code>async</code>.</li></ul><p>Comme vous pouvez le voir, nous avons représenté un flux asynchrone en code synchrone par <code>async/wait</code>.</p><blockquote><p>En fait, dans JavaScript et Dart, <code>async/wait</code> n&#x27;est qu&#x27;un sucre syntaxique que le compilateur ou l&#x27;interpréteur traduira éventuellement en une chaîne d&#x27;appels à une Promise (Future).</p></blockquote><h3 class="anchor anchorWithStickyNavbar_mojV" id="flux">Flux<a class="hash-link" href="#flux" title="Lien direct vers la rubrique">​</a></h3><p><code>Stream</code> est également utilisé pour recevoir des données d&#x27;événements asynchrones, contrairement à <code>Future</code>, il peut recevoir le résultat de plusieurs opérations asynchrones (succès ou échec). Autrement dit, lors de l&#x27;exécution d&#x27;une tâche asynchrone, les données de résultat ou les exceptions d&#x27;erreur peuvent être transmises en déclenchant plusieurs fois l&#x27;événement de réussite ou d&#x27;échec. <code>Le flux</code> est souvent utilisé dans des scénarios de tâches asynchrones où les données sont lues plusieurs fois, telles que le téléchargement de contenu réseau, la lecture et l&#x27;écriture de fichiers, etc. Par exemple.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">Stream.fromFutures([</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // retourne le résultat après 1 seconde</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Future.delayed(new Duration(seconds: 1), () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;hello 1&quot;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // Lance une exception</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Future. delay(new Duration(seconds: 2), () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    throw AssertionError(&quot;Error&quot;);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // renvoie le résultat après 3 secondes</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Future.delayed(new Duration(seconds: 3), () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return &quot;hello 3&quot; ;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">]).listen((data){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   print(data);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}, onError : (e){</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   print(e.message);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">},onDone : () {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">});</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><p>Le code ci-dessus sortira à son tour.</p><div class="codeBlockContainer_I0IT language-dart theme-code-block"><div class="codeBlockContent_wNvx dart"><pre tabindex="0" class="prism-code language-dart codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">I/flottement (17666) : bonjour 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I/flottement (17666) : erreur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">I/flottement (17666) : bonjour 3</span><br></span></code></pre><button type="button" aria-label="Copier le code dans le presse-papiers" class="copyButton_wuS7 clean-btn">Copie</button></div></div><h3 class="anchor anchorWithStickyNavbar_mojV" id="héritage-étend">Héritage (étend)<a class="hash-link" href="#héritage-étend" title="Lien direct vers la rubrique">​</a></h3><p>Les règles d&#x27;héritage dans Dart.</p><ul><li>Les sous-classes utilisent le mot clé extend pour hériter de la classe parent</li><li>Les sous-classes héritent des propriétés et des méthodes visibles dans la classe parent, mais pas du constructeur.</li><li>les sous-classes peuvent remplacer les méthodes getter et setter du parent</li><li>les sous-classes remplacent les méthodes de la superclasse avec @override</li><li>les sous-classes appellent des méthodes de superclasse avec super</li><li>Les sous-classes peuvent hériter des variables non privées de la classe parent</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="mélanges-avec">mélanges (avec)<a class="hash-link" href="#mélanges-avec" title="Lien direct vers la rubrique">​</a></h3><p>Le mot chinois pour mixins signifie mélanger, ce qui signifie mélanger d&#x27;autres fonctions de la classe. Dans Dart, les mixins peuvent être utilisés pour obtenir des fonctionnalités similaires à l&#x27;héritage multiple car les conditions d&#x27;utilisation des mixins ont changé avec la version Dart, voici les conditions d&#x27;utilisation des mixins dans Dart 2.x.</p><ul><li>(1) comme la classe mixins ne peut hériter que de l&#x27;objet, ne peut pas hériter des autres classes</li><li>(2) la classe en tant que mixins ne peut pas avoir de constructeur</li><li>(3) une classe peut mélanger plus d&#x27;une classe de mixins</li><li>(4) mixins n&#x27;est jamais un héritage, ni une interface, mais une toute nouvelle fonctionnalité Regardez le code spécifique.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="implémentation-dinterfaceimplémentations">implémentation d&#x27;interface(implémentations)<a class="hash-link" href="#implémentation-dinterfaceimplémentations" title="Lien direct vers la rubrique">​</a></h3><p>  Flutter n&#x27;a pas d&#x27;interfaces, mais chaque classe de Flutter est une interface implicite qui contient toutes les variables membres et les méthodes définies de la classe. Si vous avez une classe A et que vous voulez que la classe B ait l&#x27;API de A, mais que vous ne voulez pas avoir l&#x27;implémentation de A, alors vous devez traiter A comme une interface, et la classe B implémente la classe A. Donc dans Flutter : la classe est l&#x27;interface</p><ul><li>Lorsqu&#x27;une classe est utilisée comme interface, les méthodes de la classe sont les méthodes de l&#x27;interface et doivent être réimplémentées dans la sous-classe, avec @override dans l&#x27;implémentation de la sous-classe.</li><li>Lorsqu&#x27;une classe est utilisée comme interface, les variables membres de la classe doivent également être réimplémentées dans la sous-classe. Ajouter @override devant les variables membres</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/Malaaaa/blog-sample/tree/main/docs/Flutter/Flutter.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Modifier cette page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navigation dans les pages de documentation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/fr/docs/CSAPP/I/O"><div class="pagination-nav__sublabel">Précédent</div><div class="pagination-nav__label">O</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/fr/docs/Flutter/Dartanalysis"><div class="pagination-nav__sublabel">Suivant</div><div class="pagination-nav__label">Débogage des applications Flutter</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#aperçu-aperçu" class="table-of-contents__link toc-highlight">Aperçu Aperçu</a></li><li><a href="#fondamentaux-du-langage-dart" class="table-of-contents__link toc-highlight">Fondamentaux du langage Dart</a><ul><li><a href="#déclarations-de-variables" class="table-of-contents__link toc-highlight">Déclarations de variables</a></li><li><a href="#les-fonctions" class="table-of-contents__link toc-highlight">Les fonctions</a></li><li><a href="#prise-en-charge-asynchrone" class="table-of-contents__link toc-highlight">Prise en charge asynchrone</a></li><li><a href="#futurecatcherror" class="table-of-contents__link toc-highlight">Future.catchError</a></li><li><a href="#flux" class="table-of-contents__link toc-highlight">Flux</a></li><li><a href="#héritage-étend" class="table-of-contents__link toc-highlight">Héritage (étend)</a></li><li><a href="#mélanges-avec" class="table-of-contents__link toc-highlight">mélanges (avec)</a></li><li><a href="#implémentation-dinterfaceimplémentations" class="table-of-contents__link toc-highlight">implémentation d&#39;interface(implémentations)</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 Malaaaa Site. Construit avec Docusaurus.</div></div></div></footer></div>
<script src="/fr/assets/js/runtime~main.1df6686d.js"></script>
<script src="/fr/assets/js/main.a68af7fd.js"></script>
</body>
</html>